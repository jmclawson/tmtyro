<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="get_gutenberg_corpus() improves upon the functionality
of gutenbergr::gutenberg_download() in three key ways.
First, its default setting is to retrieve the &quot;.htm&quot;
version of texts and parse the headers. This change allows for
consideration of texts by sections and chapters. Parsing is
handled by parse_html(), and move_header_to_text() is
available to correct any parsing errors.
Second, when using the &quot;.txt&quot; format,
get_gutenberg_corpus() doesn't rely on the presence of
&quot;.zip&quot; files. This change improves coverage of files
dramatically.
Finally, it caches a copy of files locally to avoid the
need for repeated downloads. This change helps with code
portability, offline access, and server bandwidth.
All changes are made with consideration for server bandwidth,
so a two-second delay is introduced between each download
attempt. This will slow down the initial acquisition of
corpora, but offline caching speeds things up considerably
in subsequent use."><title>Build and load a corpus from Project Gutenberg — get_gutenberg_corpus • tmtyro</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Build and load a corpus from Project Gutenberg — get_gutenberg_corpus"><meta property="og:description" content="get_gutenberg_corpus() improves upon the functionality
of gutenbergr::gutenberg_download() in three key ways.
First, its default setting is to retrieve the &quot;.htm&quot;
version of texts and parse the headers. This change allows for
consideration of texts by sections and chapters. Parsing is
handled by parse_html(), and move_header_to_text() is
available to correct any parsing errors.
Second, when using the &quot;.txt&quot; format,
get_gutenberg_corpus() doesn't rely on the presence of
&quot;.zip&quot; files. This change improves coverage of files
dramatically.
Finally, it caches a copy of files locally to avoid the
need for repeated downloads. This change helps with code
portability, offline access, and server bandwidth.
All changes are made with consideration for server bandwidth,
so a two-second delay is introduced between each download
attempt. This will slow down the initial acquisition of
corpora, but offline caching speeds things up considerably
in subsequent use."><meta property="og:image" content="https://jmclawson.github.io/tmtyro/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">tmtyro</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/tmtyro.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/01-differentiating.html">Differentiating tmtyro</a>
    <a class="dropdown-item" href="../articles/02-changing-colors.html">Customizing colors</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/jmclawson/tmtyro/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Build and load a corpus from Project Gutenberg</h1>
      <small class="dont-index">Source: <a href="https://github.com/jmclawson/tmtyro/blob/HEAD/R/gutenberg.R" class="external-link"><code>R/gutenberg.R</code></a></small>
      <div class="d-none name"><code>get_gutenberg_corpus.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>get_gutenberg_corpus()</code> improves upon the functionality
of <code><a href="https://docs.ropensci.org/gutenbergr/reference/gutenberg_download.html" class="external-link">gutenbergr::gutenberg_download()</a></code> in three key ways.</p><ol><li><p>First, its default setting is to retrieve the ".htm"
version of texts and parse the headers. This change allows for
consideration of texts by sections and chapters. Parsing is
handled by <code><a href="parse_html.html">parse_html()</a></code>, and <code><a href="move_header_to_text.html">move_header_to_text()</a></code> is
available to correct any parsing errors.</p></li>
<li><p>Second, when using the ".txt" format,
<code>get_gutenberg_corpus()</code> doesn't rely on the presence of
".zip" files. This change improves coverage of files
dramatically.</p></li>
<li><p>Finally, it caches a copy of files locally to avoid the
need for repeated downloads. This change helps with code
portability, offline access, and server bandwidth.</p></li>
</ol><p>All changes are made with consideration for server bandwidth,
so a two-second delay is introduced between each download
attempt. This will slow down the initial acquisition of
corpora, but offline caching speeds things up considerably
in subsequent use.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">get_gutenberg_corpus</span><span class="op">(</span></span>
<span>  <span class="va">gutenberg_id</span>,</span>
<span>  dir <span class="op">=</span> <span class="st">"gutenberg"</span>,</span>
<span>  mirror <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  meta_fields <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"title"</span>, <span class="st">"author"</span><span class="op">)</span>,</span>
<span>  type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"htm"</span>, <span class="st">"txt"</span><span class="op">)</span>,</span>
<span>  html_title <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>gutenberg_id</dt>
<dd><p>A vector of ID numbers from Project Gutenberg or a data frame containing a <code>gutenberg_id</code> column, such as from the results of a call to <code><a href="https://docs.ropensci.org/gutenbergr/reference/gutenberg_works.html" class="external-link">gutenbergr::gutenberg_works()</a></code>.</p></dd>


<dt>dir</dt>
<dd><p>The directory for storing downloaded <code>.txt</code> files. Default value is "gutenberg".</p></dd>


<dt>mirror</dt>
<dd><p>Optionally a mirror URL to retrieve the books from. By default uses the mirror from <code><a href="https://docs.ropensci.org/gutenbergr/reference/gutenberg_get_mirror.html" class="external-link">gutenbergr::gutenberg_get_mirror()</a></code>.</p></dd>


<dt>meta_fields</dt>
<dd><p>Additional fields to add from <a href="https://docs.ropensci.org/gutenbergr/reference/gutenberg_metadata.html" class="external-link">gutenbergr::gutenberg_metadata</a> describing each book. By default, title and author are added.</p></dd>


<dt>type</dt>
<dd><p>Indicate whether the corpus should be created from the plain text "txt" versions of books (previously the only type) or from enhanced "htm" versions, which attempt to find markers for chapters and sections.</p></dd>


<dt>html_title</dt>
<dd><p>Whether to use the h1 header from an HTML file to determine a document's title. By default, uses <a href="https://docs.ropensci.org/gutenbergr/reference/gutenberg_metadata.html" class="external-link">gutenbergr::gutenberg_metadata</a>.</p></dd>


<dt>...</dt>
<dd><p>Additional parameters passed along to <code><a href="https://docs.ropensci.org/gutenbergr/reference/gutenberg_strip.html" class="external-link">gutenbergr::gutenberg_strip()</a></code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A data frame with one row for each line of the texts in the corpus.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://docs.ropensci.org/gutenbergr/" class="external-link">gutenbergr</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">dalloway</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://docs.ropensci.org/gutenbergr/reference/gutenberg_works.html" class="external-link">gutenberg_works</a></span><span class="op">(</span><span class="va">author</span> <span class="op">==</span> <span class="st">"Woolf, Virginia"</span>,</span></span>
<span class="r-in"><span>                            <span class="va">title</span> <span class="op">==</span> <span class="st">"Mrs Dalloway in Bond Street"</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu">get_gutenberg_corpus</span><span class="op">(</span><span class="op">)</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://jmclawson.net" class="external-link">James Clawson</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer></div>

  

  

  </body></html>

