<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Ramping up skills • tmtyro</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Ramping up skills">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">tmtyro</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.5</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/tmtyro.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/01-differentiating.html">Differentiating tmtyro</a></li>
    <li><a class="dropdown-item" href="../articles/02-changing-colors.html">Customizing colors</a></li>
    <li><a class="dropdown-item" href="../articles/03-skills-ramp.html">Ramping up skills</a></li>
    <li><a class="dropdown-item" href="../articles/04-customizing-tables.html">Customizing tables</a></li>
    <li><a class="dropdown-item" href="../articles/05-customizing-figures.html">Customizing figures</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/jmclawson/tmtyro/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Ramping up skills</h1>
            <h3 data-toc-skip class="subtitle">Stepping into dplyr</h3>
            
      
      <small class="dont-index">Source: <a href="https://github.com/jmclawson/tmtyro/blob/master/vignettes/articles/03-skills-ramp.Rmd" class="external-link"><code>vignettes/articles/03-skills-ramp.Rmd</code></a></small>
      <div class="d-none name"><code>03-skills-ramp.Rmd</code></div>
    </div>

    
    
<p>tmtyro is optimized for a fast start, speeding users along a standard
workflow built on tidytext and the tidyverse. But it also serves as a
skills ramp, offering vectorized functions that work seamlessly with a
broader ecosystem of tools. These functions provide a stepping stone for
users transitioning to text mining workflows that leverage the
flexibility and power of dplyr. The vectorized functions outlined below
present an alternative pathway to the workflows enabled by functions
like <code><a href="../reference/add_frequency.html">add_frequency()</a></code> and <code><a href="../reference/add_sentiment.html">add_sentiment()</a></code>,
bridging the gap to more advanced techniques.</p>
<div class="section level2">
<h2 id="working-with-vectors">Working with vectors<a class="anchor" aria-label="anchor" href="#working-with-vectors"></a>
</h2>
<p>We often work with text as a vector of words, sometimes thought of as
a “bag” of words. In this form, everything is typically standardized
into lowercase spellings, punctuation marks are removed, and words are
split at spaces:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://stringr.tidyverse.org" class="external-link">stringr</a></span><span class="op">)</span></span>
<span><span class="va">primer</span> <span class="op">&lt;-</span> <span class="st">"See Jack run. Run, Jack! Run well!"</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/chartr.html" class="external-link">tolower</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://stringr.tidyverse.org/reference/str_remove.html" class="external-link">str_remove_all</a></span><span class="op">(</span><span class="st">"[:punct:]"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/strsplit.html" class="external-link">strsplit</a></span><span class="op">(</span><span class="st">" "</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/unlist.html" class="external-link">unlist</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">primer</span></span>
<span><span class="co">#&gt; [1] "see"  "jack" "run"  "run"  "jack" "run"  "well"</span></span></code></pre></div>
<p>tmtyro offers functions for working with such lists or bags of words,
returning an equal-length list of some measurement or test. For
instance, <code><a href="../reference/get_frequency.html">get_frequency()</a></code> returns word counts for each word
in a list:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/get_frequency.html">get_frequency</a></span><span class="op">(</span><span class="va">primer</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 1 2 3 3 2 3 1</span></span></code></pre></div>
<p>These counts can be converted to percentages by adding
<code>percent = TRUE</code> or by using the shorthand
<code><a href="../reference/get_frequency.html">get_tf()</a></code>:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/get_frequency.html">get_frequency</a></span><span class="op">(</span><span class="va">primer</span>, percent <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 0.1428571 0.2857143 0.4285714 0.4285714 0.2857143 0.4285714 0.1428571</span></span>
<span></span>
<span><span class="fu"><a href="../reference/get_frequency.html">get_tf</a></span><span class="op">(</span><span class="va">primer</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 0.1428571 0.2857143 0.4285714 0.4285714 0.2857143 0.4285714 0.1428571</span></span></code></pre></div>
<p>Most of tmtyro’s functions for working with vectors begin with
<code>get_...()</code>. This standardization helps to simplify
autocomplete. Additionally, two logical tests beginning with
<code>is_...()</code> return values <code>TRUE</code> or
<code>FALSE</code>:</p>
<div id="mwlefoodfi" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#mwlefoodfi table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#mwlefoodfi thead, #mwlefoodfi tbody, #mwlefoodfi tfoot, #mwlefoodfi tr, #mwlefoodfi td, #mwlefoodfi th {
  border-style: none;
}

#mwlefoodfi p {
  margin: 0;
  padding: 0;
}

#mwlefoodfi .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#mwlefoodfi .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#mwlefoodfi .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#mwlefoodfi .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#mwlefoodfi .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#mwlefoodfi .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#mwlefoodfi .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#mwlefoodfi .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#mwlefoodfi .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#mwlefoodfi .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#mwlefoodfi .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#mwlefoodfi .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#mwlefoodfi .gt_spanner_row {
  border-bottom-style: hidden;
}

#mwlefoodfi .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#mwlefoodfi .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#mwlefoodfi .gt_from_md > :first-child {
  margin-top: 0;
}

#mwlefoodfi .gt_from_md > :last-child {
  margin-bottom: 0;
}

#mwlefoodfi .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#mwlefoodfi .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#mwlefoodfi .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#mwlefoodfi .gt_row_group_first td {
  border-top-width: 2px;
}

#mwlefoodfi .gt_row_group_first th {
  border-top-width: 2px;
}

#mwlefoodfi .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#mwlefoodfi .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#mwlefoodfi .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#mwlefoodfi .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#mwlefoodfi .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#mwlefoodfi .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#mwlefoodfi .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#mwlefoodfi .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#mwlefoodfi .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#mwlefoodfi .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#mwlefoodfi .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#mwlefoodfi .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#mwlefoodfi .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#mwlefoodfi .gt_left {
  text-align: left;
}

#mwlefoodfi .gt_center {
  text-align: center;
}

#mwlefoodfi .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#mwlefoodfi .gt_font_normal {
  font-weight: normal;
}

#mwlefoodfi .gt_font_bold {
  font-weight: bold;
}

#mwlefoodfi .gt_font_italic {
  font-style: italic;
}

#mwlefoodfi .gt_super {
  font-size: 65%;
}

#mwlefoodfi .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#mwlefoodfi .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#mwlefoodfi .gt_indent_1 {
  text-indent: 5px;
}

#mwlefoodfi .gt_indent_2 {
  text-indent: 10px;
}

#mwlefoodfi .gt_indent_3 {
  text-indent: 15px;
}

#mwlefoodfi .gt_indent_4 {
  text-indent: 20px;
}

#mwlefoodfi .gt_indent_5 {
  text-indent: 25px;
}

#mwlefoodfi .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#mwlefoodfi div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>
<table class="table gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead><tr class="gt_col_headings">
<th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="fn">tmtyro function</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="returns">returns</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="use">use</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="result">result</th>
    </tr></thead>
<tbody class="gt_table_body">
<tr>
<td headers="fn" class="gt_row gt_left"><span class="gt_from_md"><code><a href="../reference/get_frequency.html">get_frequency()</a></code></span></td>
<td headers="returns" class="gt_row gt_left">word frequencies as counts</td>
<td headers="use" class="gt_row gt_left"><span class="gt_from_md"><code>get_frequency(primer)</code></span></td>
<td headers="result" class="gt_row gt_left"><span class="gt_from_md"><code>1</code>, <code>2</code>, <code>3</code>, <code>3</code>, <code>2</code>, <code>3</code>, <code>1</code></span></td>
</tr>
<tr>
<td headers="fn" class="gt_row gt_left"><span class="gt_from_md"><code>get_frequency(percent = FALSE)</code> <br>or<br><code><a href="../reference/get_frequency.html">get_tf()</a></code></span></td>
<td headers="returns" class="gt_row gt_left">word frequencies as percentages</td>
<td headers="use" class="gt_row gt_left"><span class="gt_from_md"><code>get_tf(primer)</code></span></td>
<td headers="result" class="gt_row gt_left"><span class="gt_from_md"><code>0.14</code>, <code>0.29</code>, <code>0.43</code>, <code>0.43</code>, <code>0.29</code>, <code>0.43</code>, <code>0.14</code></span></td>
</tr>
<tr>
<td headers="fn" class="gt_row gt_left"><span class="gt_from_md"><code><a href="../reference/get_cumulative_vocabulary.html">get_cumulative_vocabulary()</a></code></span></td>
<td headers="returns" class="gt_row gt_left">cumulative count of new words</td>
<td headers="use" class="gt_row gt_left"><span class="gt_from_md"><code>get_cumulative_vocabulary(primer)</code></span></td>
<td headers="result" class="gt_row gt_left"><span class="gt_from_md"><code>1</code>, <code>2</code>, <code>3</code>, <code>3</code>, <code>3</code>, <code>3</code>, <code>4</code></span></td>
</tr>
<tr>
<td headers="fn" class="gt_row gt_left"><span class="gt_from_md"><code><a href="../reference/get_ttr.html">get_ttr()</a></code></span></td>
<td headers="returns" class="gt_row gt_left">cumulative type-token ratio</td>
<td headers="use" class="gt_row gt_left"><span class="gt_from_md"><code>get_ttr(primer)</code></span></td>
<td headers="result" class="gt_row gt_left"><span class="gt_from_md"><code>1</code>, <code>1</code>, <code>1</code>, <code>0.75</code>, <code>0.6</code>, <code>0.5</code>, <code>0.57</code></span></td>
</tr>
<tr>
<td headers="fn" class="gt_row gt_left"><span class="gt_from_md"><code><a href="../reference/get_htr.html">get_htr()</a></code></span></td>
<td headers="returns" class="gt_row gt_left">cumulative hapax-token ratio</td>
<td headers="use" class="gt_row gt_left"><span class="gt_from_md"><code>get_htr(primer)</code></span></td>
<td headers="result" class="gt_row gt_left"><span class="gt_from_md"><code>1</code>, <code>1</code>, <code>1</code>, <code>0.5</code>, <code>0.2</code>, <code>0.17</code>, <code>0.29</code></span></td>
</tr>
<tr>
<td headers="fn" class="gt_row gt_left"><span class="gt_from_md"><code><a href="../reference/get_hir.html">get_hir()</a></code></span></td>
<td headers="returns" class="gt_row gt_left">hapax introduction rate</td>
<td headers="use" class="gt_row gt_left"><span class="gt_from_md"><code>get_hir(primer)</code></span></td>
<td headers="result" class="gt_row gt_left"><span class="gt_from_md"><code>1</code>, <code>0.5</code>, <code>0.33</code>, <code>0.25</code>, <code>0.2</code>, <code>0.17</code>, <code>0.29</code></span></td>
</tr>
<tr>
<td headers="fn" class="gt_row gt_left"><span class="gt_from_md"><code><a href="../reference/get_match.html">get_match()</a></code></span></td>
<td headers="returns" class="gt_row gt_left">word matches according to a dictionary</td>
<td headers="use" class="gt_row gt_left"><span class="gt_from_md"><code>get_match(primer, verbs)</code></span></td>
<td headers="result" class="gt_row gt_left"><span class="gt_from_md"><code>“yes”</code>, <code>NA</code>, <code>“no”</code>, <code>“no”</code>, <code>NA</code>, <code>“no”</code>, <code>NA</code></span></td>
</tr>
<tr>
<td headers="fn" class="gt_row gt_left"><span class="gt_from_md"><code><a href="../reference/get_sentiment.html">get_sentiment()</a></code></span></td>
<td headers="returns" class="gt_row gt_left">word matches according to a sentiment dictionary</td>
<td headers="use" class="gt_row gt_left"><span class="gt_from_md"><code>get_sentiment(primer)</code></span></td>
<td headers="result" class="gt_row gt_left"><span class="gt_from_md"><code>NA</code>, <code>NA</code>, <code>NA</code>, <code>NA</code>, <code>NA</code>, <code>NA</code>, <code>“positive”</code></span></td>
</tr>
<tr>
<td headers="fn" class="gt_row gt_left"><span class="gt_from_md"><code><a href="../reference/is_new.html">is_new()</a></code></span></td>
<td headers="returns" class="gt_row gt_left">whether a word is newly being added to the list</td>
<td headers="use" class="gt_row gt_left"><span class="gt_from_md"><code>is_new(primer)</code></span></td>
<td headers="result" class="gt_row gt_left"><span class="gt_from_md"><code>TRUE</code>, <code>TRUE</code>, <code>TRUE</code>, <code>FALSE</code>, <code>FALSE</code>, <code>FALSE</code>, <code>TRUE</code></span></td>
</tr>
<tr>
<td headers="fn" class="gt_row gt_left"><span class="gt_from_md"><code><a href="../reference/is_hapax.html">is_hapax()</a></code></span></td>
<td headers="returns" class="gt_row gt_left">whether a word is used only once in the list</td>
<td headers="use" class="gt_row gt_left"><span class="gt_from_md"><code>is_hapax(primer)</code></span></td>
<td headers="result" class="gt_row gt_left"><span class="gt_from_md"><code>TRUE</code>, <code>FALSE</code>, <code>FALSE</code>, <code>FALSE</code>, <code>FALSE</code>, <code>FALSE</code>, <code>TRUE</code></span></td>
</tr>
</tbody>
</table>
</div>
<p>Working with and becoming familiar with these vectorized functions
can be a useful step for gaining confidence in working with text
data.</p>
</div>
<div class="section level2">
<h2 id="working-with-tables">Working with tables<a class="anchor" aria-label="anchor" href="#working-with-tables"></a>
</h2>
<p>Although text analysis often conceives of documents as bags of words,
tmtyro typically follows tidytext principals to go further, with data
organized in a table with one word per row. This method of organization
allows for both <em>context</em>, in rows above and below, and
<em>understanding</em>, in columns to the left and right.</p>
<div class="section level3">
<h3 id="adding-columns">Adding columns<a class="anchor" aria-label="anchor" href="#adding-columns"></a>
</h3>
<p>tmtyro’s typical workflow offers a selection of verbs for adding new
columns—all helpfully beginning with <code>add_...()</code>.
Alternatively, the vector functions listed above work well with dplyr’s
<code><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate()</a></code> for adding columns:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load a corpus</span></span>
<span><span class="va">corpus_dubliners</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_gutenberg_corpus.html">get_gutenberg_corpus</a></span><span class="op">(</span><span class="fl">2814</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/load_texts.html">load_texts</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/identify_by.html">identify_by</a></span><span class="op">(</span><span class="va">part</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/standardize_titles.html">standardize_titles</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">doc_id</span>, <span class="va">word</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Use mutate() to add columns</span></span>
<span><span class="va">corpus_dubliners</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    count <span class="op">=</span> <span class="fu"><a href="../reference/get_frequency.html">get_frequency</a></span><span class="op">(</span><span class="va">word</span><span class="op">)</span>,</span>
<span>    percent <span class="op">=</span> <span class="fu"><a href="../reference/get_frequency.html">get_tf</a></span><span class="op">(</span><span class="va">word</span><span class="op">)</span>,</span>
<span>    new <span class="op">=</span> <span class="fu"><a href="../reference/is_new.html">is_new</a></span><span class="op">(</span><span class="va">word</span><span class="op">)</span>,</span>
<span>    hapax <span class="op">=</span> <span class="fu"><a href="../reference/is_hapax.html">is_hapax</a></span><span class="op">(</span><span class="va">word</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 67,953 × 6</span></span></span>
<span><span class="co">#&gt;    doc_id      word  count  percent new   hapax</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> The Sisters there   168 0.002<span style="text-decoration: underline;">47</span>  TRUE  FALSE</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> The Sisters was    <span style="text-decoration: underline;">1</span>161 0.017<span style="text-decoration: underline;">1</span>   TRUE  FALSE</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> The Sisters no      168 0.002<span style="text-decoration: underline;">47</span>  TRUE  FALSE</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> The Sisters hope     14 0.000<span style="text-decoration: underline;">206</span> TRUE  FALSE</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> The Sisters for     508 0.007<span style="text-decoration: underline;">48</span>  TRUE  FALSE</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> The Sisters him     494 0.007<span style="text-decoration: underline;">27</span>  TRUE  FALSE</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> The Sisters this    124 0.001<span style="text-decoration: underline;">82</span>  TRUE  FALSE</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> The Sisters time    119 0.001<span style="text-decoration: underline;">75</span>  TRUE  FALSE</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> The Sisters it      582 0.008<span style="text-decoration: underline;">56</span>  TRUE  FALSE</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> The Sisters was    <span style="text-decoration: underline;">1</span>161 0.017<span style="text-decoration: underline;">1</span>   FALSE FALSE</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 67,943 more rows</span></span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="grouping-documents">Grouping documents<a class="anchor" aria-label="anchor" href="#grouping-documents"></a>
</h3>
<p>Not every measurement makes sense in a big corpus, where we might
care more about things on a document-by-document basis. For this reason,
tmtyro offers a few additional functions for measuring grouped values.
Functions of this type are named in a pattern using
<code>get_..._by()</code>:</p>
<div id="fglzvnegsl" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#fglzvnegsl table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#fglzvnegsl thead, #fglzvnegsl tbody, #fglzvnegsl tfoot, #fglzvnegsl tr, #fglzvnegsl td, #fglzvnegsl th {
  border-style: none;
}

#fglzvnegsl p {
  margin: 0;
  padding: 0;
}

#fglzvnegsl .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#fglzvnegsl .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#fglzvnegsl .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#fglzvnegsl .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#fglzvnegsl .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#fglzvnegsl .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#fglzvnegsl .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#fglzvnegsl .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#fglzvnegsl .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#fglzvnegsl .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#fglzvnegsl .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#fglzvnegsl .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#fglzvnegsl .gt_spanner_row {
  border-bottom-style: hidden;
}

#fglzvnegsl .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#fglzvnegsl .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#fglzvnegsl .gt_from_md > :first-child {
  margin-top: 0;
}

#fglzvnegsl .gt_from_md > :last-child {
  margin-bottom: 0;
}

#fglzvnegsl .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#fglzvnegsl .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#fglzvnegsl .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#fglzvnegsl .gt_row_group_first td {
  border-top-width: 2px;
}

#fglzvnegsl .gt_row_group_first th {
  border-top-width: 2px;
}

#fglzvnegsl .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#fglzvnegsl .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#fglzvnegsl .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#fglzvnegsl .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#fglzvnegsl .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#fglzvnegsl .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#fglzvnegsl .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#fglzvnegsl .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#fglzvnegsl .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#fglzvnegsl .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#fglzvnegsl .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#fglzvnegsl .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#fglzvnegsl .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#fglzvnegsl .gt_left {
  text-align: left;
}

#fglzvnegsl .gt_center {
  text-align: center;
}

#fglzvnegsl .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#fglzvnegsl .gt_font_normal {
  font-weight: normal;
}

#fglzvnegsl .gt_font_bold {
  font-weight: bold;
}

#fglzvnegsl .gt_font_italic {
  font-style: italic;
}

#fglzvnegsl .gt_super {
  font-size: 65%;
}

#fglzvnegsl .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#fglzvnegsl .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#fglzvnegsl .gt_indent_1 {
  text-indent: 5px;
}

#fglzvnegsl .gt_indent_2 {
  text-indent: 10px;
}

#fglzvnegsl .gt_indent_3 {
  text-indent: 15px;
}

#fglzvnegsl .gt_indent_4 {
  text-indent: 20px;
}

#fglzvnegsl .gt_indent_5 {
  text-indent: 25px;
}

#fglzvnegsl .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#fglzvnegsl div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>
<table class="table gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead><tr class="gt_col_headings">
<th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="fn">function</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="returns">returns</th>
    </tr></thead>
<tbody class="gt_table_body">
<tr>
<td headers="fn" class="gt_row gt_left"><span class="gt_from_md"><code><a href="../reference/get_tf_by.html">get_tf_by()</a></code></span></td>
<td headers="returns" class="gt_row gt_left"><span class="gt_from_md">term frequencies (as a percentage) for each word by document</span></td>
</tr>
<tr>
<td headers="fn" class="gt_row gt_left"><span class="gt_from_md"><code><a href="../reference/get_idf_by.html">get_idf_by()</a></code></span></td>
<td headers="returns" class="gt_row gt_left"><span class="gt_from_md">inverse document frequencies for each word by document</span></td>
</tr>
<tr>
<td headers="fn" class="gt_row gt_left"><span class="gt_from_md"><code><a href="../reference/get_tfidf_by.html">get_tfidf_by()</a></code></span></td>
<td headers="returns" class="gt_row gt_left"><span class="gt_from_md">term frequency–inverse document frequencies for each word by document</span></td>
</tr>
</tbody>
</table>
</div>
<p>Because they expect two arguments of equal length, these kinds of
vector-document functions are best suited for data organized in a table.
All of these <code>get_..._by()</code> functions use the same
syntax:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">corpus_dubliners</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    tf <span class="op">=</span> <span class="fu"><a href="../reference/get_tf_by.html">get_tf_by</a></span><span class="op">(</span><span class="va">word</span>, <span class="va">doc_id</span><span class="op">)</span>,</span>
<span>    idf <span class="op">=</span> <span class="fu"><a href="../reference/get_idf_by.html">get_idf_by</a></span><span class="op">(</span><span class="va">word</span>, <span class="va">doc_id</span><span class="op">)</span>,</span>
<span>    tf_idf <span class="op">=</span> <span class="fu"><a href="../reference/get_tfidf_by.html">get_tfidf_by</a></span><span class="op">(</span><span class="va">word</span>, <span class="va">doc_id</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 67,953 × 5</span></span></span>
<span><span class="co">#&gt;    doc_id      word        tf    idf   tf_idf</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> The Sisters there 0.004<span style="text-decoration: underline;">82</span>  0      0       </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> The Sisters was   0.018<span style="text-decoration: underline;">0</span>   0      0       </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> The Sisters no    0.005<span style="text-decoration: underline;">14</span>  0      0       </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> The Sisters hope  0.000<span style="text-decoration: underline;">321</span> 0.511  0.000<span style="text-decoration: underline;">164</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> The Sisters for   0.010<span style="text-decoration: underline;">3</span>   0      0       </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> The Sisters him   0.013<span style="text-decoration: underline;">8</span>   0      0       </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> The Sisters this  0.001<span style="text-decoration: underline;">93</span>  0.069<span style="text-decoration: underline;">0</span> 0.000<span style="text-decoration: underline;">133</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> The Sisters time  0.000<span style="text-decoration: underline;">964</span> 0      0       </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> The Sisters it    0.011<span style="text-decoration: underline;">9</span>   0      0       </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> The Sisters was   0.018<span style="text-decoration: underline;">0</span>   0      0       </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 67,943 more rows</span></span></span></code></pre></div>
<p>Native to dplyr, <code><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by()</a></code> and <code><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">ungroup()</a></code>
offer another method for calculating values by document:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">corpus_dubliners</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">doc_id</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    tf <span class="op">=</span> <span class="fu"><a href="../reference/get_frequency.html">get_tf</a></span><span class="op">(</span><span class="va">word</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">ungroup</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 67,953 × 3</span></span></span>
<span><span class="co">#&gt;    doc_id      word        tf</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> The Sisters there 0.004<span style="text-decoration: underline;">82</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> The Sisters was   0.018<span style="text-decoration: underline;">0</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> The Sisters no    0.005<span style="text-decoration: underline;">14</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> The Sisters hope  0.000<span style="text-decoration: underline;">321</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> The Sisters for   0.010<span style="text-decoration: underline;">3</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> The Sisters him   0.013<span style="text-decoration: underline;">8</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> The Sisters this  0.001<span style="text-decoration: underline;">93</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> The Sisters time  0.000<span style="text-decoration: underline;">964</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> The Sisters it    0.011<span style="text-decoration: underline;">9</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> The Sisters was   0.018<span style="text-decoration: underline;">0</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 67,943 more rows</span></span></span></code></pre></div>
<p>Be aware that that there’s no equivalent <code>get_idf()</code> or
<code>get_tfidf()</code> for pairing with <code><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by()</a></code>. By
definition, these calculations need contextual awareness of documents in
a corpus.</p>
<p>Using dplyr in this way allows for a range of measurements beyond
those imagined in tmtyro. For instance, it might be helpful to express
term frequencies in terms of how far they are from average use:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">unique_usage</span> <span class="op">&lt;-</span> <span class="va">corpus_dubliners</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">doc_id</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    tf <span class="op">=</span> <span class="fu"><a href="../reference/get_frequency.html">get_tf</a></span><span class="op">(</span><span class="va">word</span><span class="op">)</span>,</span>
<span>    mean <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">tf</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>    sd <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/sd.html" class="external-link">sd</a></span><span class="op">(</span><span class="va">tf</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>    z_score <span class="op">=</span> <span class="op">(</span><span class="va">tf</span> <span class="op">-</span> <span class="va">mean</span><span class="op">)</span><span class="op">/</span><span class="va">sd</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">ungroup</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">mean</span>, <span class="va">sd</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">unique_usage</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 67,953 × 4</span></span></span>
<span><span class="co">#&gt;    doc_id      word        tf z_score</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> The Sisters there 0.004<span style="text-decoration: underline;">82</span>  -<span style="color: #BB0000;">0.396</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> The Sisters was   0.018<span style="text-decoration: underline;">0</span>    0.498 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> The Sisters no    0.005<span style="text-decoration: underline;">14</span>  -<span style="color: #BB0000;">0.375</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> The Sisters hope  0.000<span style="text-decoration: underline;">321</span> -<span style="color: #BB0000;">0.702</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> The Sisters for   0.010<span style="text-decoration: underline;">3</span>   -<span style="color: #BB0000;">0.025</span><span style="color: #BB0000; text-decoration: underline;">3</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> The Sisters him   0.013<span style="text-decoration: underline;">8</span>    0.215 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> The Sisters this  0.001<span style="text-decoration: underline;">93</span>  -<span style="color: #BB0000;">0.593</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> The Sisters time  0.000<span style="text-decoration: underline;">964</span> -<span style="color: #BB0000;">0.658</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> The Sisters it    0.011<span style="text-decoration: underline;">9</span>    0.083<span style="text-decoration: underline;">8</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> The Sisters was   0.018<span style="text-decoration: underline;">0</span>    0.498 </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 67,943 more rows</span></span></span></code></pre></div>
<p>In this way, one could find outlier words by defining them as being
at least a standard deviation away from standard usage in a
document.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">unique_usage</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">doc_id</span>, <span class="va">word</span>, <span class="va">z_score</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">abs</a></span><span class="op">(</span><span class="va">z_score</span><span class="op">)</span> <span class="op">&gt;=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/distinct.html" class="external-link">distinct</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 54 × 3</span></span></span>
<span><span class="co">#&gt;    doc_id       word  z_score</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> The Sisters  the      3.01</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> The Sisters  i        1.31</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> The Sisters  and      1.85</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> The Sisters  to       1.33</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> An Encounter the      3.06</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> An Encounter to       1.08</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> An Encounter he       1.39</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> An Encounter of       1.14</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> An Encounter and      1.52</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> Araby        the      2.95</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 44 more rows</span></span></span></code></pre></div>
<p>This particular example unhelpfully emphasizes stopwords, but the
process models the kind of checking that often proves helpful when
working with text.</p>
</div>
<div class="section level3">
<h3 id="getting-representational-data">Getting representational data<a class="anchor" aria-label="anchor" href="#getting-representational-data"></a>
</h3>
<p>Instead of studying every word in context, it’s sometimes helpful to
get representational data from each document. Standard dplyr functions
helpfully limit groups to subsets of rows. For instance,
<code><a href="https://dplyr.tidyverse.org/reference/distinct.html" class="external-link">distinct()</a></code> drops any rows that repeat:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># mutate() keeps every row</span></span>
<span><span class="va">simple_freq</span> <span class="op">&lt;-</span> <span class="va">corpus_dubliners</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">doc_id</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>tf <span class="op">=</span> <span class="fu"><a href="../reference/get_frequency.html">get_tf</a></span><span class="op">(</span><span class="va">word</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">ungroup</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># distinct() keeps the first instance of each row</span></span>
<span><span class="va">simple_freq</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/distinct.html" class="external-link">distinct</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 17,692 × 3</span></span></span>
<span><span class="co">#&gt;    doc_id      word        tf</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> The Sisters there 0.004<span style="text-decoration: underline;">82</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> The Sisters was   0.018<span style="text-decoration: underline;">0</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> The Sisters no    0.005<span style="text-decoration: underline;">14</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> The Sisters hope  0.000<span style="text-decoration: underline;">321</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> The Sisters for   0.010<span style="text-decoration: underline;">3</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> The Sisters him   0.013<span style="text-decoration: underline;">8</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> The Sisters this  0.001<span style="text-decoration: underline;">93</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> The Sisters time  0.000<span style="text-decoration: underline;">964</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> The Sisters it    0.011<span style="text-decoration: underline;">9</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> The Sisters the   0.054<span style="text-decoration: underline;">9</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 17,682 more rows</span></span></span></code></pre></div>
<p>Combining elements of both <code><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate()</a></code> and
<code><a href="https://dplyr.tidyverse.org/reference/distinct.html" class="external-link">distinct()</a></code>, the <code><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarize()</a></code> function returns
one row per group while allowing new column definitions:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># summarize() returns one row per group, here the maximum tf value for combination of doc_id and word</span></span>
<span><span class="va">simple_freq</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">doc_id</span>, <span class="va">word</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarize</a></span><span class="op">(</span>tf <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">tf</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">ungroup</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 17,692 × 3</span></span></span>
<span><span class="co">#&gt;    doc_id      word                 tf</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> The Sisters 1895           0.000<span style="text-decoration: underline;">321</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> The Sisters 1st            0.000<span style="text-decoration: underline;">321</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> The Sisters a              0.014<span style="text-decoration: underline;">8</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> The Sisters about          0.003<span style="text-decoration: underline;">53</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> The Sisters above          0.000<span style="text-decoration: underline;">321</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> The Sisters absolve        0.000<span style="text-decoration: underline;">321</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> The Sisters acquaintance   0.000<span style="text-decoration: underline;">321</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> The Sisters acts           0.000<span style="text-decoration: underline;">321</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> The Sisters added          0.000<span style="text-decoration: underline;">321</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> The Sisters advertisements 0.000<span style="text-decoration: underline;">321</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 17,682 more rows</span></span></span></code></pre></div>
<p>Offering a little more flexibility, dplyr’s <code>slice_...()</code>
family of functions is helpful for choosing a subset of rows in each
group. For instance, <code><a href="https://dplyr.tidyverse.org/reference/slice.html" class="external-link">slice_max()</a></code> makes it easy to get the
top 3 words used in each story from <em>Dubliners</em>, ordered by term
frequency:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">simple_freq</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/distinct.html" class="external-link">distinct</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">doc_id</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html" class="external-link">slice_max</a></span><span class="op">(</span></span>
<span>    order_by <span class="op">=</span> <span class="va">tf</span>,</span>
<span>    n <span class="op">=</span> <span class="fl">3</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">ungroup</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 48 × 3</span></span></span>
<span><span class="co">#&gt;    doc_id       word      tf</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> The Sisters  the   0.054<span style="text-decoration: underline;">9</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> The Sisters  and   0.037<span style="text-decoration: underline;">9</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> The Sisters  to    0.030<span style="text-decoration: underline;">2</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> An Encounter the   0.055<span style="text-decoration: underline;">6</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> An Encounter and   0.032<span style="text-decoration: underline;">9</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> An Encounter he    0.031<span style="text-decoration: underline;">0</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> Araby        the   0.081<span style="text-decoration: underline;">0</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> Araby        i     0.040<span style="text-decoration: underline;">9</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> Araby        and   0.029<span style="text-decoration: underline;">9</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> Araby        to    0.029<span style="text-decoration: underline;">9</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 38 more rows</span></span></span></code></pre></div>
<p>Other slicing functions like <code><a href="https://dplyr.tidyverse.org/reference/slice.html" class="external-link">slice_sample()</a></code> and
<code><a href="https://dplyr.tidyverse.org/reference/slice.html" class="external-link">slice_head()</a></code> offer additional options for preparing data to
study.</p>
</div>
</div>
<div class="section level2">
<h2 id="dictionary-matching">Dictionary matching<a class="anchor" aria-label="anchor" href="#dictionary-matching"></a>
</h2>
<p>Many of the vectorized <code>get_...()</code> functions return
numeric or logical results, but two return values based on a dictionary
of terms. These functions are perhaps best demonstrated with a new bag
of words:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">primer2</span> <span class="op">&lt;-</span> <span class="st">"Jack hates rainy days."</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/chartr.html" class="external-link">tolower</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://stringr.tidyverse.org/reference/str_remove.html" class="external-link">str_remove_all</a></span><span class="op">(</span><span class="st">"[:punct:]"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/strsplit.html" class="external-link">strsplit</a></span><span class="op">(</span><span class="st">" "</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/unlist.html" class="external-link">unlist</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>The more general <code><a href="../reference/get_match.html">get_match()</a></code> function returns the
dictionary match for any word or vector. When paired with a dictionary
made with <code><a href="../reference/make_dictionary.html">make_dictionary()</a></code>, it returns values for any
matches found:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">emoji_weather</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/make_dictionary.html">make_dictionary</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="st">"️☔️"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"rain"</span>, <span class="st">"rains"</span>, <span class="st">"rainy"</span>, <span class="st">"raining"</span><span class="op">)</span>,</span>
<span>    <span class="st">"️⛈️"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"storm"</span>, <span class="st">"storms"</span>, <span class="st">"stormy"</span>, <span class="st">"storming"</span><span class="op">)</span>,</span>
<span>    <span class="st">"☁️"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"cloud"</span>, <span class="st">"clouds"</span>, <span class="st">"cloudy"</span><span class="op">)</span>,</span>
<span>    <span class="st">"🌞"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"sun"</span>, <span class="st">"sunny"</span><span class="op">)</span>,</span>
<span>    <span class="st">"🌫️"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"fog"</span>, <span class="st">"fogs"</span>, <span class="st">"foggy"</span>, <span class="st">"mist"</span>, <span class="st">"misty"</span><span class="op">)</span>,</span>
<span>    <span class="st">"🌬️"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"wind"</span>, <span class="st">"winds"</span>, <span class="st">"windy"</span><span class="op">)</span>,</span>
<span>    <span class="st">"️❄️"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"snow"</span>, <span class="st">"snows"</span>, <span class="st">"snowing"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  name <span class="op">=</span> <span class="st">"weather"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">primer2</span></span>
<span><span class="co">#&gt; [1] "jack"  "hates" "rainy" "days"</span></span>
<span><span class="fu"><a href="../reference/get_match.html">get_match</a></span><span class="op">(</span><span class="va">primer2</span>, <span class="va">emoji_weather</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] NA   NA   "️☔️" NA</span></span></code></pre></div>
<p>As shown here, unmatched values return <code>NA</code> missing
values.</p>
<p>The function works with dplyr’s <code><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate()</a></code> much like any
other vectorized function:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dubliners_weather</span> <span class="op">&lt;-</span> <span class="va">corpus_dubliners</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>weather <span class="op">=</span> <span class="fu"><a href="../reference/get_match.html">get_match</a></span><span class="op">(</span><span class="va">word</span>, <span class="va">emoji_weather</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">dubliners_weather</span> <span class="op">|&gt;</span> </span>
<span>  <span class="co"># show only one story and skip a few hundred words</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">doc_id</span> <span class="op">==</span> <span class="st">"The Dead"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/row_number.html" class="external-link">row_number</a></span><span class="op">(</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">609</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 15,122 × 3</span></span></span>
<span><span class="co">#&gt;    doc_id   word     weather</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> The Dead he       <span style="color: #BB0000;">NA</span>     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> The Dead stood    <span style="color: #BB0000;">NA</span>     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> The Dead on       <span style="color: #BB0000;">NA</span>     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> The Dead the      <span style="color: #BB0000;">NA</span>     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> The Dead mat      <span style="color: #BB0000;">NA</span>     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> The Dead scraping <span style="color: #BB0000;">NA</span>     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> The Dead the      <span style="color: #BB0000;">NA</span>     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> The Dead snow     ️❄️      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> The Dead from     <span style="color: #BB0000;">NA</span>     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> The Dead his      <span style="color: #BB0000;">NA</span>     </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 15,112 more rows</span></span></span>
<span></span>
<span><span class="va">dubliners_weather</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/drop_na.html">drop_na</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 55 × 3</span></span></span>
<span><span class="co">#&gt;    doc_id       word   weather</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> The Sisters  clouds ☁️      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> The Sisters  sunny  🌞     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> The Sisters  sun    🌞     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> The Sisters  clouds ☁️      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> An Encounter storm  ️⛈️      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> An Encounter sunny  🌞     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> An Encounter sun    🌞     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> An Encounter clouds ☁️      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> Araby        rainy  ️☔️     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> Araby        rain   ️☔️     </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 45 more rows</span></span></span></code></pre></div>
<div class="section level3">
<h3 id="matching-sentiment">Matching sentiment<a class="anchor" aria-label="anchor" href="#matching-sentiment"></a>
</h3>
<p>A sentiment lexicon is just a special kind of dictionary. To support
a specialized case for sentiment analysis, <code><a href="../reference/get_sentiment.html">get_sentiment()</a></code>
works the same way as <code><a href="../reference/get_match.html">get_match()</a></code>:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">primer2</span></span>
<span><span class="co">#&gt; [1] "jack"  "hates" "rainy" "days"</span></span>
<span><span class="fu"><a href="../reference/get_match.html">get_match</a></span><span class="op">(</span><span class="va">primer2</span>, <span class="fu">tidytext</span><span class="fu">::</span><span class="fu"><a href="https://juliasilge.github.io/tidytext/reference/get_sentiments.html" class="external-link">get_sentiments</a></span><span class="op">(</span><span class="st">"bing"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] NA         "negative" NA         NA</span></span>
<span><span class="fu"><a href="../reference/get_sentiment.html">get_sentiment</a></span><span class="op">(</span><span class="va">primer2</span>, <span class="st">"bing"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] NA         "negative" NA         NA</span></span></code></pre></div>
<p>Like other functions, it works well with dplyr’s
<code><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate()</a></code> for adding a column of sentiment
interpretation:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">corpus_dubliners</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    sentiment <span class="op">=</span> <span class="fu"><a href="../reference/get_sentiment.html">get_sentiment</a></span><span class="op">(</span><span class="va">word</span>, <span class="st">"bing"</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/drop_na.html">drop_na</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 3,867 × 3</span></span></span>
<span><span class="co">#&gt;    doc_id      word      sentiment</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> The Sisters evenly    positive </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> The Sisters dead      negative </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> The Sisters darkened  negative </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> The Sisters blind     negative </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> The Sisters idle      negative </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> The Sisters strangely negative </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> The Sisters like      positive </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> The Sisters like      positive </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> The Sisters sinful    negative </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> The Sisters fear      negative </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 3,857 more rows</span></span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="section"></h2>
<p>By combining simplicity and flexibility, tmtyro helps users move
between streamlined workflows and customizable approaches. Whether
working with small text datasets or exploring complex corpora,
vectorized functions offer a bridge to mastering tools like dplyr. This
approach encourages skill development in text mining, data analysis, and
broader R programming techniques.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://jmclawson.net" class="external-link">James Clawson</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
