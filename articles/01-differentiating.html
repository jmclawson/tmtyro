<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="tmtyro">
<title>Differentiating tmtyro • tmtyro</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Differentiating tmtyro">
<meta property="og:description" content="tmtyro">
<meta property="og:image" content="https://jmclawson.github.io/tmtyro/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">tmtyro</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/tmtyro.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/01-differentiating.html">Differentiating tmtyro</a>
    <a class="dropdown-item" href="../articles/02-changing-colors.html">Customizing colors</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/jmclawson/tmtyro/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Differentiating tmtyro</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/jmclawson/tmtyro/blob/HEAD/vignettes/articles/01-differentiating.Rmd" class="external-link"><code>vignettes/articles/01-differentiating.Rmd</code></a></small>
      <div class="d-none name"><code>01-differentiating.Rmd</code></div>
    </div>

    
    
<p>This package does not exist in a vaccuum. Wonderful text mining tools
already exist for digital humanities classrooms and researchers working
with text data, including the online tool <a href="https://voyant-tools.org" class="external-link">Voyant</a>, which is both powerful and
easy to use for beginners; the <a href="https://juliasilge.github.io/tidytext/" class="external-link">tidytext</a> package in R,
designed to work with the popular <a href="https://tidyverse.tidyverse.org" class="external-link">tidyverse</a> package suite; the
<a href="https://quanteda.io/index.html" class="external-link">quanteda</a> package in R, with
many options offering precision and power; and the <a href="https://tm.r-forge.r-project.org" class="external-link">tm</a> package in R, a
long-standing tool used by specialists. Their designs situate them for
different audiences and purposes. Similarly, the tmtyro package is
designed with a particular audience and purpose in mind.</p>
<div class="section level2">
<h2 id="in-context">In context<a class="anchor" aria-label="anchor" href="#in-context"></a>
</h2>
<p><img src="skill_speedometer_without.png"></p>
<p>Voyant is one of the best-known tools for working with text data in
the humanities. Begun in development by Stéfan Sinclair and Geoffrey
Rockwell over more than twenty years ago, it has become a standard—and
with good reason. Its graphical interface makes it accessible to novices
without compromising ability or features. Still, Voyant’s easy-to-use
interface ultimately limits users’ growth, since that same interface can
keep Voyant from serving as a skills ramp to other options.</p>
<p>Unlike Voyant, code-based methods for working with text offer both
reproducibility and open-ended tooling. In R, the tm package created by
Ingo Feinerer and Kurt Hornik is among the oldest and most widely used
packages for text mining.<a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content="&lt;p&gt;Among the three packages discussed here, tm shows the
most downloads from CRAN, with more than 57 thousand downloads last
month, compared to 44 thousand for tidytext and 37 thousand for
quanteda.&lt;/p&gt;"><sup>1</sup></a> It emphasizes corpus creation and choosing
text features for study. First published on CRAN in 2007, it predates
the other packages described here by almost a decade, and its data
design—emphasizing document-term matrices or DTMs (sometimes called
document-feature matrices or DFMs)—makes it sometimes hard to work with
common workflows.</p>
<p>The quanteda package, released by Kenneth Benoit in 2015, is in
continual development, and it probably offers the most robust feature
set of any in this list. It provides workflows for corpus creation,
choosing features, searching words in context, working with custom
dictionaries, and visualizing results, among other things, providing
helpful documentation along the way. For a beginner, its abundance of
options and multiple-step workflows can be overwhelming. And like tm,
quanteda’s primary data design is not ideally suited for popular
packages like dplyr.<a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content="&lt;p&gt;For comparison, dplyr’s monthly download numbers
typically rival quanteda’s lifetime downloads. And although an
experimental package &lt;em&gt;quanteda.tidy&lt;/em&gt; was started to make quanteda
work more consistently with dplyr and other packages in the tidyverse
family, it seems no longer in development.&lt;/p&gt;"><sup>2</sup></a> Nevertheless, quanteda provides power and
specialized functionality that merit its learning curve.</p>
<p>The newest of these options is tidytext, created by Julia Silge and
David Robinson in 2019. Unlike tm and quanteda, tidytext is made using a
“tidy” design philosophy that is consistent with many popular R
packages.<a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content="&lt;p&gt;This design might account for its higher download rate
when compared to the more powerful quanteda.&lt;/p&gt;"><sup>3</sup></a> Additionally, a companion book, <a href="https://www.tidytextmining.com" class="external-link"><em>Text Mining with R</em></a>,
offers impressive documentation, easing the learning curve for anyone
new to text mining. But this book’s preface acknowledges a starting
point quite a ways above zero, expecting that “the reader is at least
slightly familiar with dplyr, ggplot2, and the %&gt;% ‘pipe’ operator in
R.” These expectations make tidytext tough for complete beginners who
must get up to speed with other tools before using it.</p>
<p><img src="skill_speedometer.png"></p>
<p>In this context, the tmtyro package steps cautiously into the
remaining space to fill a particular need. Developed while teaching two
semesters of an undergraduate course on literary text mining, it grew
from a folder of “helper” functions written for students. Our course was
taught in the English department, and it was never meant to be a “coding
class” so much as one that induced students to think about text in new
ways. The syllabus followed through examples from <em>Text Mining in
R</em> and, ambitiously, <em>Text Analysis with R for Students of
Literature</em>, by Matthew Jockers and Rosamond Thalken, pairing
methods with applications in recent research. Each week, students
applied techniques to ask their own questions about their own selections
of writing. Having working tools in front of us helped everyone test the
boundaries of this new world and map how we might follow similar paths
to those laid out in the readings.</p>
<p>Like Voyant, tmtyro is designed for a beginner, and it strives for
predictability. Workflows are provided for loading texts from a folder
or for getting a corpus of texts from online collections. Once texts are
loaded, repetitive conventions for function names make it easy to add
columns for analysis in a single step, and generic functions handle
details of tables and figures.</p>
<p>Most importantly, tmtyro provides a skills ramp for users who outgrow
it. Code workflows are designed to help beginners move quickly at the
start to try things out. From there, a student who gains confidence in
the methods provided by the package might step beyond it to tweak a
visualization using functions from ggplot2. A researcher wishing to work
with a subset of titles will begin to understand methods from dplyr. And
since tmtyro’s data design is based on that of tidytext, a user can
transition between both packages seamlessly, using them together. Nobody
is expected to stick with tmtyro forever, but functions are designed to
remain useful long past the “tyro” stage.</p>
</div>
<div class="section level2">
<h2 id="in-code">In code<a class="anchor" aria-label="anchor" href="#in-code"></a>
</h2>
<p>Because each of these packages was developed for different audiences,
they take different approaches to common steps. The functions and
approaches used by tmtyro seem most similar to those of tidytext. At the
same time, many details or choices are hidden to simplify the interface
and prioritize getting results.</p>
<p>The code to use each package is shown below for comparison. Every
approach assumes the same object definition showing the path to a folder
of text files:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">text_directory</span> <span class="op">&lt;-</span> <span class="st">"path/to/files"</span></span></code></pre></div>
<p>It is likely that someone more familiar with a given package would
take a different approach, but these examples demonstrate the method
someone might try after searching documentation and the internet. When
methods are benchmarked, some might be faster than others, but speeds
feel comparable in testing.</p>
<div class="section level3 tabset">
<h3 class="tabset" id="load-texts-from-a-folder">Load texts from a folder<a class="anchor" aria-label="anchor" href="#load-texts-from-a-folder"></a>
</h3>
<p>This first comparison shows a first step of loading a corpus from a
local folder of texts.</p>




<ul class="nav nav-tabs" id="load-texts-from-a-folder" role="tablist">
<li role="presentation" class="nav-item"><button data-bs-toggle="tab" data-bs-target="#tmtyro" id="tmtyro-tab" type="button" role="tab" aria-controls="tmtyro" aria-selected="true" class="active nav-link">tmtyro</button></li>
<li role="presentation" class="nav-item"><button data-bs-toggle="tab" data-bs-target="#tidytext" id="tidytext-tab" type="button" role="tab" aria-controls="tidytext" aria-selected="false" class="nav-link">tidytext</button></li>
<li role="presentation" class="nav-item"><button data-bs-toggle="tab" data-bs-target="#quanteda" id="quanteda-tab" type="button" role="tab" aria-controls="quanteda" aria-selected="false" class="nav-link">quanteda</button></li>
<li role="presentation" class="nav-item"><button data-bs-toggle="tab" data-bs-target="#tm" id="tm-tab" type="button" role="tab" aria-controls="tm" aria-selected="false" class="nav-link">tm</button></li>
</ul>
<div class="tab-content">
<div class="active  tab-pane" id="tmtyro" role="tabpanel" aria-labelledby="tmtyro-tab">

<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/jmclawson/tmtyro" class="external-link">tmtyro</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">my_corpus</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/load_texts.html">load_texts</a></span><span class="op">(</span><span class="va">text_directory</span><span class="op">)</span></span></code></pre></div>
<p>Behind the scenes, tmtyro’s <code><a href="../reference/load_texts.html">load_texts()</a></code> uses functions
from base R and a number of packages: dplyr, forcats, purrr, rlang,
stringr, tibble, tidyr, and tidytext. When lemmatizing or tagging parts
of speech, it also uses textstem, openNLP, and NLP.</p>
</div>
<div class="tab-pane" id="tidytext" role="tabpanel" aria-labelledby="tidytext-tab">

<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://juliasilge.github.io/tidytext/" class="external-link">tidytext</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://readr.tidyverse.org" class="external-link">readr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://stringr.tidyverse.org" class="external-link">stringr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">my_corpus_tt</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>    doc_id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.files.html" class="external-link">list.files</a></span><span class="op">(</span><span class="va">text_directory</span>, <span class="st">"\\.txt$"</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    text <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">text_directory</span>, <span class="va">doc_id</span>, sep <span class="op">=</span> <span class="st">"/"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>      <span class="fu"><a href="https://readr.tidyverse.org/reference/read_file.html" class="external-link">read_file</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>    .by <span class="op">=</span> <span class="va">doc_id</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    doc_id <span class="op">=</span> <span class="fu"><a href="https://stringr.tidyverse.org/reference/str_remove.html" class="external-link">str_remove_all</a></span><span class="op">(</span><span class="va">doc_id</span>, <span class="st">"[.]txt"</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://juliasilge.github.io/tidytext/reference/unnest_tokens.html" class="external-link">unnest_tokens</a></span><span class="op">(</span><span class="va">word</span>, <span class="va">text</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="tab-pane" id="quanteda" role="tabpanel" aria-labelledby="quanteda-tab">

<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://quanteda.io" class="external-link">quanteda</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/quanteda/readtext" class="external-link">readtext</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">my_corpus_qu</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu">readtext</span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">text_directory</span>, <span class="st">"/*.txt"</span><span class="op">)</span>,</span>
<span>    docvarsfrom <span class="op">=</span> <span class="st">"filenames"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://quanteda.io/reference/corpus.html" class="external-link">corpus</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://quanteda.io/reference/tokens.html" class="external-link">tokens</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="tab-pane" id="tm" role="tabpanel" aria-labelledby="tm-tab">

<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tm.r-forge.r-project.org/" class="external-link">tm</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">my_corpus_tm</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/tm/man/DirSource.html" class="external-link">DirSource</a></span><span class="op">(</span><span class="va">text_directory</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/tm/man/Corpus.html" class="external-link">Corpus</a></span><span class="op">(</span>readerControl <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>reader <span class="op">=</span> <span class="va">readPlain</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
</div>
<div class="section level3 tabset">
<h3 class="tabset" id="remove-stop-words">Remove stop words<a class="anchor" aria-label="anchor" href="#remove-stop-words"></a>
</h3>
<p>Removing stop words is a common step in text analysis. Each of these
examples continues directly from the previous step of loading texts.</p>




<ul class="nav nav-tabs" id="remove-stop-words" role="tablist">
<li role="presentation" class="nav-item"><button data-bs-toggle="tab" data-bs-target="#tmtyro-1" id="tmtyro-1-tab" type="button" role="tab" aria-controls="tmtyro-1" aria-selected="true" class="active nav-link">tmtyro</button></li>
<li role="presentation" class="nav-item"><button data-bs-toggle="tab" data-bs-target="#tidytext-1" id="tidytext-1-tab" type="button" role="tab" aria-controls="tidytext-1" aria-selected="false" class="nav-link">tidytext</button></li>
<li role="presentation" class="nav-item"><button data-bs-toggle="tab" data-bs-target="#quanteda-1" id="quanteda-1-tab" type="button" role="tab" aria-controls="quanteda-1" aria-selected="false" class="nav-link">quanteda</button></li>
<li role="presentation" class="nav-item"><button data-bs-toggle="tab" data-bs-target="#tm-1" id="tm-1-tab" type="button" role="tab" aria-controls="tm-1" aria-selected="false" class="nav-link">tm</button></li>
</ul>
<div class="tab-content">
<div class="active  tab-pane" id="tmtyro-1" role="tabpanel" aria-labelledby="tmtyro-1-tab">

<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sans_stopwords</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/drop_stopwords.html">drop_stopwords</a></span><span class="op">(</span><span class="va">my_corpus</span><span class="op">)</span></span></code></pre></div>
<p><code><a href="../reference/drop_stopwords.html">drop_stopwords()</a></code> uses functions from dplyr and
tidytext.</p>
</div>
<div class="tab-pane" id="tidytext-1" role="tabpanel" aria-labelledby="tidytext-1-tab">

<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sans_stopwords_tt</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter-joins.html" class="external-link">anti_join</a></span><span class="op">(</span><span class="va">my_corpus_tt</span>, <span class="fu"><a href="https://juliasilge.github.io/tidytext/reference/get_stopwords.html" class="external-link">get_stopwords</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="tab-pane" id="quanteda-1" role="tabpanel" aria-labelledby="quanteda-1-tab">

<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/quanteda/stopwords" class="external-link">stopwords</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">sans_stopwords_qu</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://quanteda.io/reference/tokens_select.html" class="external-link">tokens_remove</a></span><span class="op">(</span><span class="va">my_corpus_qu</span>, <span class="fu"><a href="https://rdrr.io/pkg/stopwords/man/stopwords.html" class="external-link">stopwords</a></span><span class="op">(</span><span class="st">"english"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="tab-pane" id="tm-1" role="tabpanel" aria-labelledby="tm-1-tab">

<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sans_stopwords_tm</span> <span class="op">&lt;-</span>  </span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/tm/man/tm_map.html" class="external-link">tm_map</a></span><span class="op">(</span><span class="va">my_corpus_tm</span>,</span>
<span>         <span class="va">removeWords</span>, </span>
<span>         <span class="fu"><a href="https://rdrr.io/pkg/stopwords/man/stopwords.html" class="external-link">stopwords</a></span><span class="op">(</span><span class="st">"english"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
</div>
<div class="section level3 tabset">
<h3 class="tabset" id="add-sentiment">Add sentiment<a class="anchor" aria-label="anchor" href="#add-sentiment"></a>
</h3>
<p>A pre-trained lexicon is needed to tag texts for sentiment. The
process differs for each package.</p>




<ul class="nav nav-tabs" id="add-sentiment" role="tablist">
<li role="presentation" class="nav-item"><button data-bs-toggle="tab" data-bs-target="#tmtyro-2" id="tmtyro-2-tab" type="button" role="tab" aria-controls="tmtyro-2" aria-selected="true" class="active nav-link">tmtyro</button></li>
<li role="presentation" class="nav-item"><button data-bs-toggle="tab" data-bs-target="#tidytext-2" id="tidytext-2-tab" type="button" role="tab" aria-controls="tidytext-2" aria-selected="false" class="nav-link">tidytext</button></li>
<li role="presentation" class="nav-item"><button data-bs-toggle="tab" data-bs-target="#quanteda-2" id="quanteda-2-tab" type="button" role="tab" aria-controls="quanteda-2" aria-selected="false" class="nav-link">quanteda</button></li>
<li role="presentation" class="nav-item"><button data-bs-toggle="tab" data-bs-target="#tm-2" id="tm-2-tab" type="button" role="tab" aria-controls="tm-2" aria-selected="false" class="nav-link">tm</button></li>
</ul>
<div class="tab-content">
<div class="active  tab-pane" id="tmtyro-2" role="tabpanel" aria-labelledby="tmtyro-2-tab">

<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sentiment</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_sentiment.html">add_sentiment</a></span><span class="op">(</span><span class="va">my_corpus</span><span class="op">)</span></span></code></pre></div>
<p><code><a href="../reference/add_sentiment.html">add_sentiment()</a></code> uses functions from rlang, dplyr,
textdata, and tidytext.</p>
</div>
<div class="tab-pane" id="tidytext-2" role="tabpanel" aria-labelledby="tidytext-2-tab">

<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sentiment_tt</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">inner_join</a></span><span class="op">(</span><span class="va">my_corpus_tt</span>, <span class="fu"><a href="https://juliasilge.github.io/tidytext/reference/get_sentiments.html" class="external-link">get_sentiments</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="tab-pane" id="quanteda-2" role="tabpanel" aria-labelledby="quanteda-2-tab">

<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sentiment_qu</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu"><a href="https://quanteda.io/reference/tokens_lookup.html" class="external-link">tokens_lookup</a></span><span class="op">(</span></span>
<span>    <span class="va">my_corpus_qu</span>,</span>
<span>    dictionary <span class="op">=</span> <span class="va">data_dictionary_LSD2015</span>, </span>
<span>    exclusive <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="tab-pane" id="tm-2" role="tabpanel" aria-labelledby="tm-2-tab">

<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/mjockers/syuzhet" class="external-link">syuzhet</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">sentiment_tm</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/syuzhet/man/get_sentiment.html" class="external-link">get_sentiment</a></span><span class="op">(</span><span class="va">my_corpus_tm</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># This doesn't actually do the job. I'm not sure what the equivalent would be using tm.</span></span></code></pre></div>
</div>
</div>
</div>
<div class="section level3 tabset">
<h3 class="tabset" id="measure-tf-idf">Measure Tf-idf<a class="anchor" aria-label="anchor" href="#measure-tf-idf"></a>
</h3>
<p>Term frequency–inverse document frequency is a method for weighing
words by their contribution to distinctness within a corpus.</p>




<ul class="nav nav-tabs" id="measure-tf-idf" role="tablist">
<li role="presentation" class="nav-item"><button data-bs-toggle="tab" data-bs-target="#tmtyro-3" id="tmtyro-3-tab" type="button" role="tab" aria-controls="tmtyro-3" aria-selected="true" class="active nav-link">tmtyro</button></li>
<li role="presentation" class="nav-item"><button data-bs-toggle="tab" data-bs-target="#tidytext-3" id="tidytext-3-tab" type="button" role="tab" aria-controls="tidytext-3" aria-selected="false" class="nav-link">tidytext</button></li>
<li role="presentation" class="nav-item"><button data-bs-toggle="tab" data-bs-target="#quanteda-3" id="quanteda-3-tab" type="button" role="tab" aria-controls="quanteda-3" aria-selected="false" class="nav-link">quanteda</button></li>
<li role="presentation" class="nav-item"><button data-bs-toggle="tab" data-bs-target="#tm-3" id="tm-3-tab" type="button" role="tab" aria-controls="tm-3" aria-selected="false" class="nav-link">tm</button></li>
</ul>
<div class="tab-content">
<div class="active  tab-pane" id="tmtyro-3" role="tabpanel" aria-labelledby="tmtyro-3-tab">

<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tfidf</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/summarize_tf_idf.html">summarize_tf_idf</a></span><span class="op">(</span><span class="va">my_corpus</span><span class="op">)</span></span></code></pre></div>
<p><code><a href="../reference/summarize_tf_idf.html">summarize_tf_idf()</a></code> uses functions from dplyr and
tidytext.</p>
</div>
<div class="tab-pane" id="tidytext-3" role="tabpanel" aria-labelledby="tidytext-3-tab">

<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tfidf_tt</span> <span class="op">&lt;-</span> <span class="va">my_corpus_tt</span> <span class="op">|&gt;</span></span>
<span> <span class="fu"><a href="../reference/count.html">count</a></span><span class="op">(</span><span class="va">doc_id</span>, <span class="va">word</span>, sort <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="va">total_words</span> <span class="op">&lt;-</span> <span class="va">tfidf_tt</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">doc_id</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarize</a></span><span class="op">(</span>total <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">tfidf_tt</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">tfidf_tt</span>, <span class="va">total_words</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://juliasilge.github.io/tidytext/reference/bind_tf_idf.html" class="external-link">bind_tf_idf</a></span><span class="op">(</span><span class="va">word</span>, <span class="va">doc_id</span>, <span class="va">n</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="tab-pane" id="quanteda-3" role="tabpanel" aria-labelledby="quanteda-3-tab">

<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tfidf_qu</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://quanteda.io/reference/dfm.html" class="external-link">dfm</a></span><span class="op">(</span><span class="va">my_corpus_qu</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://quanteda.io/reference/docfreq.html" class="external-link">docfreq</a></span><span class="op">(</span>scheme <span class="op">=</span> <span class="st">"inverse"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="tab-pane" id="tm-3" role="tabpanel" aria-labelledby="tm-3-tab">

<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tfidf_tm</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/tm/man/weightTfIdf.html" class="external-link">weightTfIdf</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/tm/man/matrix.html" class="external-link">DocumentTermMatrix</a></span><span class="op">(</span><span class="va">my_corpus_tm</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
</div>
<div class="section level3 tabset">
<h3 class="tabset" id="visualize-most-frequent-words">Visualize most frequent words<a class="anchor" aria-label="anchor" href="#visualize-most-frequent-words"></a>
</h3>
<p>Measuring word frequency is a basic step for text mining.
Well-prepared figures can help communicate results.</p>




<ul class="nav nav-tabs" id="visualize-most-frequent-words" role="tablist">
<li role="presentation" class="nav-item"><button data-bs-toggle="tab" data-bs-target="#tmtyro-4" id="tmtyro-4-tab" type="button" role="tab" aria-controls="tmtyro-4" aria-selected="true" class="active nav-link">tmtyro</button></li>
<li role="presentation" class="nav-item"><button data-bs-toggle="tab" data-bs-target="#tidytext-4" id="tidytext-4-tab" type="button" role="tab" aria-controls="tidytext-4" aria-selected="false" class="nav-link">tidytext</button></li>
<li role="presentation" class="nav-item"><button data-bs-toggle="tab" data-bs-target="#quanteda-4" id="quanteda-4-tab" type="button" role="tab" aria-controls="quanteda-4" aria-selected="false" class="nav-link">quanteda</button></li>
<li role="presentation" class="nav-item"><button data-bs-toggle="tab" data-bs-target="#tm-4" id="tm-4-tab" type="button" role="tab" aria-controls="tm-4" aria-selected="false" class="nav-link">tm</button></li>
</ul>
<div class="tab-content">
<div class="active  tab-pane" id="tmtyro-4" role="tabpanel" aria-labelledby="tmtyro-4-tab">

<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_corpus</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/count.html">count</a></span><span class="op">(</span><span class="va">word</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/visualize.html">visualize</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><code><a href="../reference/count.html">count()</a></code> is reexported from dplyr. For showing word
counts, <code><a href="../reference/visualize.html">visualize()</a></code> also uses ggplot2. Other kinds of
visualizations will add the forcats, scales, tidyr, ggraph, and igraph
packages.</p>
</div>
<div class="tab-pane" id="tidytext-4" role="tabpanel" aria-labelledby="tidytext-4-tab">

<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">my_corpus_tt</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/count.html">count</a></span><span class="op">(</span><span class="va">word</span>, sort <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html" class="external-link">slice_head</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">10</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>proportion <span class="op">=</span> <span class="va">n</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">proportion</span>, <span class="fu"><a href="https://rdrr.io/r/stats/reorder.factor.html" class="external-link">reorder</a></span><span class="op">(</span><span class="va">word</span>, <span class="va">proportion</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_col</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>y <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="tab-pane" id="quanteda-4" role="tabpanel" aria-labelledby="quanteda-4-tab">

<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://quanteda.io" class="external-link">quanteda.textstats</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://quanteda.io/reference/tokens.html" class="external-link">tokens</a></span><span class="op">(</span><span class="va">my_corpus_qu</span>,</span>
<span>       remove_punct <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://quanteda.io/reference/dfm.html" class="external-link">dfm</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">textstat_frequency</span><span class="op">(</span>n <span class="op">=</span> <span class="fl">10</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">frequency</span>,</span>
<span>             y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/reorder.factor.html" class="external-link">reorder</a></span><span class="op">(</span><span class="va">feature</span>, <span class="op">-</span><span class="va">rank</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_col</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>y <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="tab-pane" id="tm-4" role="tabpanel" aria-labelledby="tm-4-tab">

<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">Rgraphviz</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/tm/man/matrix.html" class="external-link">TermDocumentMatrix</a></span><span class="op">(</span><span class="va">my_corpus_tm</span><span class="op">)</span>,</span>
<span>     terms <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/tm/man/findFreqTerms.html" class="external-link">findFreqTerms</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/tm/man/matrix.html" class="external-link">TermDocumentMatrix</a></span><span class="op">(</span><span class="va">my_corpus_tm</span><span class="op">)</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">]</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># This doesn't actually work, since the necessary package was removed from CRAN.</span></span></code></pre></div>
</div>
</div>
</div>
<div class="section level3 tabset">
<h3 class="tabset" id="complete-workflow">Complete workflow<a class="anchor" aria-label="anchor" href="#complete-workflow"></a>
</h3>
<p>This last section compares four packages for walking through a common
workflow, using each to load a folder of texts, remove stopwords, and
visualize most frequent words.</p>




<ul class="nav nav-tabs" id="complete-workflow" role="tablist">
<li role="presentation" class="nav-item"><button data-bs-toggle="tab" data-bs-target="#tmtyro-5" id="tmtyro-5-tab" type="button" role="tab" aria-controls="tmtyro-5" aria-selected="true" class="active nav-link">tmtyro</button></li>
<li role="presentation" class="nav-item"><button data-bs-toggle="tab" data-bs-target="#tidytext-5" id="tidytext-5-tab" type="button" role="tab" aria-controls="tidytext-5" aria-selected="false" class="nav-link">tidytext</button></li>
<li role="presentation" class="nav-item"><button data-bs-toggle="tab" data-bs-target="#quanteda-5" id="quanteda-5-tab" type="button" role="tab" aria-controls="quanteda-5" aria-selected="false" class="nav-link">quanteda</button></li>
<li role="presentation" class="nav-item"><button data-bs-toggle="tab" data-bs-target="#tm-5" id="tm-5-tab" type="button" role="tab" aria-controls="tm-5" aria-selected="false" class="nav-link">tm</button></li>
</ul>
<div class="tab-content">
<div class="active  tab-pane" id="tmtyro-5" role="tabpanel" aria-labelledby="tmtyro-5-tab">

<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/jmclawson/tmtyro" class="external-link">tmtyro</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/load_texts.html">load_texts</a></span><span class="op">(</span><span class="va">text_directory</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/drop_stopwords.html">drop_stopwords</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/count.html">count</a></span><span class="op">(</span><span class="va">word</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/visualize.html">visualize</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="tab-pane" id="tidytext-5" role="tabpanel" aria-labelledby="tidytext-5-tab">

<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://juliasilge.github.io/tidytext/" class="external-link">tidytext</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tibble.tidyverse.org/" class="external-link">tibble</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">stop_words</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>    doc_id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.files.html" class="external-link">list.files</a></span><span class="op">(</span><span class="va">text_directory</span>, <span class="st">"\\.txt$"</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    text <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">text_directory</span>, <span class="va">doc_id</span>, sep <span class="op">=</span> <span class="st">"/"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>      <span class="fu"><a href="https://readr.tidyverse.org/reference/read_file.html" class="external-link">read_file</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>    .by <span class="op">=</span> <span class="va">doc_id</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://juliasilge.github.io/tidytext/reference/unnest_tokens.html" class="external-link">unnest_tokens</a></span><span class="op">(</span><span class="va">word</span>, <span class="va">text</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter-joins.html" class="external-link">anti_join</a></span><span class="op">(</span><span class="va">stop_words</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/count.html">count</a></span><span class="op">(</span><span class="va">word</span>, sort <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html" class="external-link">slice_head</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">10</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>proportion <span class="op">=</span> <span class="va">n</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">proportion</span>, <span class="fu"><a href="https://rdrr.io/r/stats/reorder.factor.html" class="external-link">reorder</a></span><span class="op">(</span><span class="va">word</span>, <span class="va">proportion</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_col</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>y <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="tab-pane" id="quanteda-5" role="tabpanel" aria-labelledby="quanteda-5-tab">

<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://quanteda.io" class="external-link">quanteda</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/quanteda/readtext" class="external-link">readtext</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/quanteda/stopwords" class="external-link">stopwords</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu">readtext</span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">text_directory</span>, <span class="st">"/*.txt"</span><span class="op">)</span>,</span>
<span>    docvarsfrom <span class="op">=</span> <span class="st">"filenames"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://quanteda.io/reference/corpus.html" class="external-link">corpus</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://quanteda.io/reference/tokens.html" class="external-link">tokens</a></span><span class="op">(</span>remove_punct <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://quanteda.io/reference/tokens_select.html" class="external-link">tokens_remove</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/stopwords/man/stopwords.html" class="external-link">stopwords</a></span><span class="op">(</span><span class="st">"english"</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://quanteda.io/reference/dfm.html" class="external-link">dfm</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">textstat_frequency</span><span class="op">(</span>n <span class="op">=</span> <span class="fl">10</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">frequency</span>,</span>
<span>             y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/reorder.factor.html" class="external-link">reorder</a></span><span class="op">(</span><span class="va">feature</span>, <span class="op">-</span><span class="va">rank</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_col</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>y <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="tab-pane" id="tm-5" role="tabpanel" aria-labelledby="tm-5-tab">

<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tm.r-forge.r-project.org/" class="external-link">tm</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">Rgraphviz</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/tm/man/Corpus.html" class="external-link">Corpus</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/tm/man/DirSource.html" class="external-link">DirSource</a></span><span class="op">(</span><span class="va">text_directory</span><span class="op">)</span>, </span>
<span>  readerControl <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>reader <span class="op">=</span> <span class="va">readPlain</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/tm/man/tm_map.html" class="external-link">tm_map</a></span><span class="op">(</span><span class="va">removeWords</span>, </span>
<span>         <span class="fu"><a href="https://rdrr.io/pkg/tm/man/stopwords.html" class="external-link">stopwords</a></span><span class="op">(</span><span class="st">"english"</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/tm/man/matrix.html" class="external-link">TermDocumentMatrix</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span>terms <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/tm/man/findFreqTerms.html" class="external-link">findFreqTerms</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/tm/man/matrix.html" class="external-link">TermDocumentMatrix</a></span><span class="op">(</span><span class="va">my_corpus_tm</span><span class="op">)</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">]</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># This doesn't actually work, since the necessary package was removed from CRAN.</span></span></code></pre></div>
</div>
</div>
</div>
</div>
<div class="section level2 unnumbered">
<h2 class="unnumbered" id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<div id="refs" class="references csl-bib-body hanging-indent" entry-spacing="0" line-spacing="2">
<div id="ref-quanteda" class="csl-entry">
Benoit, Kenneth, et al. <span>“<span class="nocase">quanteda</span>: An
<span>R</span> Package for the Quantitative Analysis of Textual
Data.”</span> <em>Journal of Open Source Software</em>, vol. 3, no. 30,
2018, p. 774, <a href="https://doi.org/10.21105/joss.00774" class="external-link">https://doi.org/10.21105/joss.00774</a>.
</div>
<div id="ref-tm" class="csl-entry">
Feinerer, Ingo, and Kurt Hornik. <em><span class="nocase">tm</span>:
Text Mining Package</em>. 2024, <a href="https://CRAN.R-project.org/package=tm" class="external-link">https://CRAN.R-project.org/package=tm</a>.
</div>
<div id="ref-jockers2020text" class="csl-entry">
Jockers, Matthew L., and Rosamond Thalken. <em>Text Analysis with
<span>R</span> for Students of Literature</em>. Springer, 2020.
</div>
<div id="ref-micusp" class="csl-entry">
<em>Michigan Corpus of Upper-Level Student Papers</em>. The Regents of
the University of Michigan, 2009, <a href="https://elicorpora.info/main" class="external-link">https://elicorpora.info/main</a>.
</div>
<div id="ref-gutenberg" class="csl-entry">
<em>Project Gutenberg</em>. <a href="https://www.gutenberg.org" class="external-link">www.gutenberg.org</a>.
</div>
<div id="ref-silge2017text" class="csl-entry">
Silge, Julia, and David Robinson. <em>Text Mining with <span>R</span>: A
Tidy Approach</em>. O’Reilly Media, Inc., 2017, <a href="https://www.tidytextmining.com" class="external-link">https://www.tidytextmining.com</a>.
</div>
<div id="ref-tidytext" class="csl-entry">
---. <span>“<span class="nocase">tidytext</span>: Text Mining and
Analysis Using Tidy Data Principles in <span>R</span>.”</span>
<em>JOSS</em>, vol. 1, no. 3, 2016, <a href="https://doi.org/10.21105/joss.00037" class="external-link">https://doi.org/10.21105/joss.00037</a>.
</div>
<div id="ref-voyant" class="csl-entry">
Sinclair, Stéfan, and Geoffrey Rockwell. <em>Voyant Tools</em>. 2016, <a href="http://voyant-tools.org/" class="external-link">http://voyant-tools.org/</a>.
</div>
<div id="ref-tidyverse" class="csl-entry">
Wickham, Hadley, et al. <span>“Welcome to the <span class="nocase">tidyverse</span>.”</span> <em>Journal of Open Source
Software</em>, vol. 4, no. 43, 2019, p. 1686, <a href="https://doi.org/10.21105/joss.01686" class="external-link">https://doi.org/10.21105/joss.01686</a>.
</div>
</div>
</div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://jmclawson.net" class="external-link">James Clawson</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
